---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# cram

<!-- badges: start -->
[![Dependencies](https://img.shields.io/badge/dependencies-6/30-orange?style=flat)](#)
<!-- badges: end -->

The goal of cram is to process output from the Lynker CRAM model.


## Installation

You can install the development version of cram from [GitHub](https://github.com/) with:

``` r
# install.packages("remotes")
remotes::install_github("Lynker-Tech/cram")
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r example}
library(cram)

# base_folder       = "D:/downloads/runs/"
base_folder       = "C:/Users/angus/OneDrive/Desktop/runs/2049 v0.469 0.13"
## basic example code
(models = parse_directory(base_folder))

cram1 <- process_cram(
            model_directory = models[1, ],
            return_wide     = TRUE
          )

head(cram1)
```

We can identify the variables in one of processed CRAM output sheets
```{r}
output_variables <- find_variables(
                        df   = cram1
                      )

head(output_variables, 15)
```

Identify available variables using `find_variables()`, and use `plot_cram()` to plot a set of variables for multiple model scenarios after processing CRAM output sheets using `process_cram() `
```{r}
# Plot specific variables for CRAM model runs
cram_plot <- plot_cram(
                  cram_df   = cram1,
                  plot_vars = output_variables$names[17:19],
                  start     = "2004-01-01",
                  end       = "2007-01-01",
                  wrap      = FALSE
                )

cram_plot
```



